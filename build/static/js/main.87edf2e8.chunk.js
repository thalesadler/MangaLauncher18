(this.webpackJsonpmangalauncherfront=this.webpackJsonpmangalauncherfront||[]).push([[0],{134:function(t,e,n){},135:function(t,e,n){},144:function(t,e,n){},147:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(13),r=n.n(s),c=(n(134),n(7)),o=(n(135),n(197)),u=n(154),l=n(107),h=(n(136),n(4)),j=function(t){return Object(h.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"35.000000pt",height:"40.000000pt",viewBox:"0 0 176.000000 230.000000",preserveAspectRatio:"xMidYMid meet",children:Object(h.jsxs)("g",{transform:"translate(0.000000,256.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:[Object(h.jsx)("path",{d:"M1089 2385 c-12 -11 -177 -37 -244 -39 -79 -1 -80 -1 -77 -26 2 -14\r\n7 -79 10 -145 4 -66 11 -126 15 -132 11 -17 42 -16 56 1 7 8 44 22 84 31 86\r\n21 107 31 107 50 0 19 -30 19 -100 0 -78 -21 -82 -20 -78 18 3 31 4 32 87 52\r\n47 12 86 26 89 33 7 23 -48 25 -108 2 -32 -12 -64 -19 -69 -15 -6 3 -11 20\r\n-11 36 0 24 6 33 33 43 44 19 187 50 194 43 3 -4 1 -64 -5 -134 -6 -70 -10\r\n-139 -9 -153 2 -23 -2 -25 -63 -32 -36 -4 -98 -15 -139 -24 l-74 -16 -24 31\r\nc-43 55 -48 43 -48 -106 0 -144 6 -162 42 -124 33 36 316 70 381 47 20 -7 32\r\n1 92 61 40 39 70 78 70 89 0 11 -15 35 -34 53 -32 31 -36 32 -72 22 -22 -6\r\n-45 -11 -51 -11 -18 0 -16 43 7 155 23 113 25 149 7 163 -15 13 -64 32 -68 27z\r\nm101 -410 c0 -8 -7 -33 -16 -55 -13 -32 -22 -41 -49 -46 -51 -9 -70 -2 -73 29\r\n-5 42 45 87 97 87 30 0 41 -4 41 -15z m-190 -29 c0 -46 -18 -76 -45 -76 -23 0\r\n-25 4 -25 43 0 51 4 57 42 57 23 0 28 -4 28 -24z m-130 -35 c0 -30 -6 -44 -22\r\n-55 -45 -32 -68 -16 -68 44 0 33 21 49 63 50 25 0 27 -3 27 -39z"}),Object(h.jsx)("path",{d:"M450 2261 c0 -5 21 -28 47 -51 59 -51 96 -53 101 -3 4 43 -26 63 -95\r\n63 -29 0 -53 -4 -53 -9z"}),Object(h.jsx)("path",{d:"M398 2023 c-10 -2 -18 -8 -18 -13 0 -12 109 -70 131 -70 53 0 67 40\r\n21 64 -31 16 -108 27 -134 19z"}),Object(h.jsx)("path",{d:"M520 1813 c-72 -131 -112 -185 -155 -209 -19 -11 -19 -12 8 -52 34\r\n-52 73 -80 89 -64 6 6 22 48 35 92 12 44 43 136 68 204 43 119 54 166 38 166\r\n-5 0 -42 -62 -83 -137z"}),Object(h.jsx)("path",{d:"M885 1756 c-55 -12 -106 -25 -112 -29 -20 -12 -15 -26 11 -38 20 -9\r\n42 -6 115 16 50 16 94 25 98 21 11 -10 -36 -98 -50 -93 -72 27 -128 40 -138\r\n30 -8 -8 2 -17 40 -34 29 -12 50 -25 49 -29 -5 -14 -111 -95 -207 -159 -61\r\n-42 -90 -66 -83 -73 16 -16 203 69 282 129 38 29 74 53 79 53 5 0 63 -45 128\r\n-100 65 -55 129 -103 142 -107 14 -3 48 -1 75 5 28 7 81 17 119 24 37 6 67 15\r\n67 19 0 10 -45 23 -150 44 -95 19 -313 118 -318 145 -1 9 16 40 38 70 72 97\r\n65 131 -29 129 -31 -1 -101 -11 -156 -23z"}),Object(h.jsx)("path",{d:"M787 1333 c-11 -10 -8 -196 3 -213 22 -35 49 42 50 141 0 53 -11 79\r\n-35 79 -7 0 -15 -3 -18 -7z"}),Object(h.jsx)("path",{d:"M830 1070 c-79 -17 -169 -29 -217 -29 -86 -1 -99 -9 -61 -36 20 -13\r\n56 -14 278 -9 142 4 261 11 268 17 38 30 -25 88 -94 86 -22 -1 -100 -14 -174\r\n-29z"}),Object(h.jsx)("path",{d:"M900 890 c-25 -5 -94 -16 -153 -25 -103 -17 -108 -17 -128 0 -25 24\r\n-46 8 -30 -23 6 -11 11 -67 11 -124 1 -110 14 -245 24 -256 4 -3 15 -1 25 5\r\n12 7 88 13 205 14 103 2 190 7 193 12 10 16 93 331 93 352 0 41 -29 55 -116\r\n54 -43 -1 -99 -5 -124 -9z m130 -85 c0 -54 -38 -235 -53 -253 -6 -8 -27 -12\r\n-56 -10 l-46 3 -3 47 c-4 64 9 83 63 97 35 9 46 16 43 29 -2 13 -15 18 -52 20\r\nl-48 3 5 36 c9 56 31 73 94 73 l53 0 0 -45z m-242 -41 c3 -41 3 -41 -42 -53\r\n-72 -18 -76 -16 -76 32 0 56 14 69 70 65 l45 -3 3 -41z m4 -155 c-4 -80 -5\r\n-80 -64 -77 l-53 3 -3 49 c-2 27 1 53 6 58 9 9 91 27 107 23 6 -1 9 -26 7 -56z"}),Object(h.jsx)("path",{d:"M384 835 c-4 -8 1 -33 10 -55 13 -33 16 -82 16 -263 0 -204 2 -224\r\n20 -247 16 -20 22 -23 37 -14 13 8 20 29 24 80 9 92 10 433 3 462 -11 41 -98\r\n70 -110 37z"}),Object(h.jsx)("path",{d:"M1275 800 c-3 -6 -10 -51 -16 -102 -9 -93 -15 -121 -50 -242 l-20\r\n-68 -37 5 c-50 7 -591 -24 -621 -35 -19 -7 -21 -11 -11 -23 11 -13 61 -15 324\r\n-15 171 0 316 -4 323 -8 6 -4 16 -20 22 -35 6 -15 15 -27 21 -27 33 0 103 191\r\n147 405 l17 85 -34 35 c-34 36 -54 43 -65 25z"})]})})},d=n(114),f=n(57),b=n(97),p=n.n(b),m=n(98),g=n.n(m);var v=function(t){var e=t.listamangas,n=Object(a.useState)(""),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(e),u=Object(c.a)(o,2),l=u[0];return u[1],Object(h.jsxs)("form",{children:[Object(h.jsx)(d.a,{id:"manga",label:"Manga",variant:"outlined",style:{width:"70%"},size:"small",value:s,onChange:function(t){r(t.target.value)}}),Object(h.jsx)(f.a,{variant:"contained",color:"primary",size:"medium",startIcon:Object(h.jsx)(p.a,{}),onClick:function(t){l.addManga(s)},children:"Adicionar"}),Object(h.jsx)(f.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(t){l.deleteManga()},startIcon:Object(h.jsx)(g.a,{}),children:"Remover"})]})},O=n(17),x=n(99),S=[{field:"id",headerName:"ID",width:70},{field:"nome",headerName:"Nome",width:635},{field:"atual",headerName:"Atual",type:"number",width:150}];var y=function(t){var e=t.listamangas,n=Object(a.useState)([]),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(e),u=Object(c.a)(o,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){function t(t){j(t);var e=[];t.mangas.forEach((function(t){e=[].concat(Object(O.a)(e),[{id:t.Id,nome:t.Nome,atual:t.CapituloAtual}])})),r(e)}return l.inscrever(t),function(){l.desinscrever(t)}}),[]),Object(h.jsx)("div",{style:{height:375,width:"100%"},children:Object(h.jsx)(x.a,{rows:s,columns:S,rowHeight:"40",hideFooter:!0,onRowSelected:function(t){l.selManga(t.data.id)}})})},w=n(63),k=n(200),z=n(153),C=n(198),M={height:40};var E=function(t){var e=t.selEstado;return Object(h.jsx)("section",{children:Object(h.jsx)(w.a,{component:"fieldset",variant:"outlined",children:Object(h.jsxs)(k.a,{style:M,"aria-label":"Estado",name:"estado",defaultValue:"Ativo",row:!0,onChange:function(t){e(t.target.value)},children:[Object(h.jsx)(z.a,{value:"Ativo",control:Object(h.jsx)(C.a,{}),label:Object(h.jsx)("span",{style:{fontSize:"15px"},children:"Em Execu\xe7\xe3o"})}),Object(h.jsx)(z.a,{value:"Semanal",control:Object(h.jsx)(C.a,{}),label:Object(h.jsx)("span",{style:{fontSize:"15px"},children:"Semanal"})}),Object(h.jsx)(z.a,{value:"Pausado",control:Object(h.jsx)(C.a,{}),label:Object(h.jsx)("span",{style:{fontSize:"15px"},children:"Pausado"})}),Object(h.jsx)(z.a,{value:"Terminado",control:Object(h.jsx)(C.a,{}),label:Object(h.jsx)("span",{style:{fontSize:"15px"},children:"Terminado"})})]})})})},A=n(101),I=n.n(A);var T=function(t){var e=t.listamangas,n=Object(a.useState)(0),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(e),u=Object(c.a)(o,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){function t(t){j(t),r(t.mangaSelecionado.CapituloAtual)}return l.inscrever(t),function(){l.desinscrever(t)}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.a,{id:"outlined-number",label:"Cap\xedtulo Atual",type:"number",size:"small",value:s,onChange:function(t){r(t.target.value)},onBlur:function(t){l.atualizaCap(t.target.value)},InputLabelProps:{shrink:!0},InputProps:{inputProps:{min:0}},variant:"outlined"}),Object(h.jsx)(f.a,{variant:"contained",size:"medium",startIcon:Object(h.jsx)(I.a,{}),onClick:function(t){l.proximoCap()},children:"Abrir Pr\xf3ximo"})]})},_=n(84),N=n(50),L=n(102),P=n.n(L),F={float:"right",height:40};var U=function(t){var e=t.listamangas,n=Object(a.useState)("Ativo"),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(e),u=Object(c.a)(o,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){function t(t){j(t),r(t.estadoSelecionado)}return l.inscrever(t),function(){l.desinscrever(t)}}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.a,{style:F,variant:"contained",size:"medium",startIcon:Object(h.jsx)(P.a,{}),onClick:function(t){l.atualizaEstado(s)},children:"Alterar Estado"}),Object(h.jsxs)(_.a,{style:F,value:s,onChange:function(t){r(t.target.value)},variant:"outlined",children:[Object(h.jsx)(N.a,{value:"Ativo",children:"Ativo"}),Object(h.jsx)(N.a,{value:"Semanal",children:"Semanal"}),Object(h.jsx)(N.a,{value:"Pausado",children:"Pausado"}),Object(h.jsx)(N.a,{value:"Terminado",children:"Terminado"})]})]})},B=n(151);n(144);var J=function(t){var e=t.listamangas,n=Object(a.useState)(""),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(e),u=Object(c.a)(o,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){function t(t){j(t),r(t.mangaSelecionado.nome)}return l.inscrever(t),function(){l.desinscrever(t)}}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(B.a,{children:s}),Object(h.jsx)("p",{}),Object(h.jsx)(T,{listamangas:l}),Object(h.jsx)(U,{listamangas:l})]})},D=n(19),R=n.n(D),q=n(33),G=n(27),H=n(47),V=function t(e,n){Object(G.a)(this,t),this.Id=0,this.Nome=e,this.CapituloAtual=0,this.Estado=n},W=function(){function t(){Object(G.a)(this,t),this.mangas=[],this.mangaSelecionado=new V,this.estadoSelecionado="Ativo",this._inscritos=[],this.idseq=0,this.apiUrl="https://thalesmangaapi.azurewebsites.net//api/manga",this.token=localStorage.getItem("@mangalauncher/token")}return Object(H.a)(t,[{key:"inscrever",value:function(t){this._inscritos.includes(t)||(this._inscritos=[].concat(Object(O.a)(this._inscritos),[t]))}},{key:"desinscrever",value:function(t){this._inscritos=this._inscritos.filter((function(e){return e!==t}))}},{key:"notificar",value:function(){var t=this;this._inscritos.forEach((function(e){return e(t)}))}},{key:"addManga",value:function(t){if(""!=t){var e=new V(t,this.estadoSelecionado);this.postManga(e)}}},{key:"padToTwo",value:function(t){return t<=9&&(t=("0"+t).slice(-2)),t}},{key:"proximoCap",value:function(){if(""!=this.mangaSelecionado.Nome){var t=parseInt(this.mangaSelecionado.CapituloAtual,10)+1;window.open("http://unionleitor.top/leitor/"+this.mangaSelecionado.Nome+"/"+this.padToTwo(t),"_blank"),this.atualizaCap(t)}}},{key:"atualizaEstado",value:function(){var t=Object(q.a)(R.a.mark((function t(e){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.mangaSelecionado.Nome){t.next=7;break}return this.mangaSelecionado.Estado=e,t.next=4,this.putManga(this.mangaSelecionado);case 4:n=this.mangas.indexOf(this.mangaSelecionado),this.mangas.splice(n,1),this.notificar();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"atualizaCap",value:function(){var t=Object(q.a)(R.a.mark((function t(e){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.mangaSelecionado.Nome){t.next=7;break}return this.mangaSelecionado.CapituloAtual=e,t.next=4,this.putManga(this.mangaSelecionado);case 4:n=this.mangas.indexOf(this.mangaSelecionado),this.mangas.splice(n,1,this.mangaSelecionado),this.notificar();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"selManga",value:function(t){var e=this.mangas.filter((function(e){return e.Id==t}));this.mangaSelecionado=e[0],this.notificar()}},{key:"selEstado",value:function(t){this.estadoSelecionado=t,this.getManga()}},{key:"getManga",value:function(){var t=Object(q.a)(R.a.mark((function t(){var e,n,a,i=this;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}},t.next=3,fetch(this.apiUrl+"/"+this.estadoSelecionado,e);case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,this.mangas=[],a.Dados.forEach((function(t){i.mangas=[].concat(Object(O.a)(i.mangas),[t])})),this.notificar();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"postManga",value:function(){var t=Object(q.a)(R.a.mark((function t(e){var n,a,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(e)},t.next=3,fetch(this.apiUrl,n);case 3:return a=t.sent,t.next=6,a.json();case 6:i=t.sent,200==a.status?(this.mangas.push(i.Dados),this.notificar()):console.log(i.erro);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"putManga",value:function(){var t=Object(q.a)(R.a.mark((function t(e){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(e)},t.next=3,fetch(this.apiUrl,n);case 3:return a=t.sent,t.next=6,a.json();case 6:t.sent;case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteManga",value:function(){var t=Object(q.a)(R.a.mark((function t(){var e;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.apiUrl,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token},body:JSON.stringify(this.mangaSelecionado)});case 2:e=this.mangas.indexOf(this.mangaSelecionado),this.mangas.splice(e,1),this.notificar(e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();var Y=function(){var t=new W;return t.getManga(),Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(v,{listamangas:t}),Object(h.jsx)("p",{}),Object(h.jsx)(E,{selEstado:t.selEstado.bind(t)}),Object(h.jsx)(y,{listamangas:t}),Object(h.jsx)("p",{}),Object(h.jsx)(J,{listamangas:t})]})};var K=function(t){var e=t.service,n=Object(a.useState)(""),i=Object(c.a)(n,2),s=i[0],r=i[1],o=Object(a.useState)(""),u=Object(c.a)(o,2),l=u[0],j=u[1],b=Object(a.useState)(!1),p=Object(c.a)(b,2),m=p[0],g=p[1];return Object(a.useEffect)((function(){function t(t){g(t.invalidLogin)}return e.inscrever(t),e.loginInicial(),function(){e.desinscrever(t)}}),[]),Object(h.jsx)(a.Fragment,{children:Object(h.jsxs)("form",{style:{marginTop:75},align:"center",children:[Object(h.jsx)(d.a,{id:"username",label:"Usu\xe1rio",variant:"outlined",style:{width:"25%"},size:"small",value:s,onChange:function(t){r(t.target.value)}}),Object(h.jsx)("p",{}),Object(h.jsx)(d.a,{id:"password",label:"Senha",variant:"outlined",style:{width:"25%"},size:"small",type:"password",value:l,onChange:function(t){j(t.target.value)}}),Object(h.jsx)("p",{}),Object(h.jsx)(f.a,{variant:"contained",color:"primary",size:"medium",onClick:function(t){e.login(s,l)},children:"Login"}),Object(h.jsx)("p",{}),m&&Object(h.jsx)("font",{color:"red",children:"Login inv\xe1lido!!"})]})})},Q=function t(e,n){Object(G.a)(this,t),this.username=e,this.password=n},X=function(){function t(){Object(G.a)(this,t),this._inscritos=[],this.apiUrl="https://thalesuserapi.azurewebsites.net//api/login",this.logado=!1,this.invalidLogin=!1}return Object(H.a)(t,[{key:"inscrever",value:function(t){this._inscritos.includes(t)||(this._inscritos=[].concat(Object(O.a)(this._inscritos),[t]))}},{key:"desinscrever",value:function(t){this._inscritos=this._inscritos.filter((function(e){return e!==t}))}},{key:"notificar",value:function(){var t=this;this._inscritos.forEach((function(e){return e(t)}))}},{key:"loginInicial",value:function(){var t=localStorage.getItem("@mangalauncher/user"),e=localStorage.getItem("@mangalauncher/password");this.login(t,e)}},{key:"login",value:function(t,e){if(t&&e){var n=new Q(t,e);this.postLogin(n)}}},{key:"postLogin",value:function(){var t=Object(q.a)(R.a.mark((function t(e){var n,a,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},t.next=3,fetch(this.apiUrl,n);case 3:return a=t.sent,t.next=6,a.json();case 6:i=t.sent,200==a.status?(this.logado=!0,this.invalidLogin=!1,localStorage.setItem("@mangalauncher/user",e.username),localStorage.setItem("@mangalauncher/password",e.password),localStorage.setItem("@mangalauncher/token",i.access_token),this.notificar()):(this.logado=!1,this.invalidLogin=!0,this.notificar());case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();var Z=function(){var t=new X,e=Object(a.useState)(!1),n=Object(c.a)(e,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){function e(t){s(t.logado)}return t.inscrever(e),function(){t.desinscrever(e)}}),[]),Object(h.jsxs)(o.a,{component:"article",maxWidth:"md",children:[Object(h.jsxs)(u.a,{variant:"h4",align:"center",component:"h1",children:["MangaLauncher",Object(h.jsx)(l.a,{component:j})]}),Object(h.jsx)("p",{}),i?Object(h.jsx)(Y,{}):Object(h.jsx)(K,{service:t})]})},$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),a(t),i(t),s(t),r(t)}))};n(146);r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root")),$()}},[[147,1,2]]]);
//# sourceMappingURL=main.87edf2e8.chunk.js.map